@page
@model AddBookModel



<br />
<br />
@*<form method="post" asp-page-handler="SelectBooks">
    <label for="currentBooks"><h4>Current list of books</h4></label>
    <br />
    <br />
    <select id="currentBooks" name="SelectBooks" multiple size="10">
        @foreach (var bk in Model.Books.OrderBy(b => b.Title))
        {
            <option value="@bk.Title">@bk.Title</option>
        }
    </select>
    @*<button type="submit">Submit</button>
</form>*@
<br />
<br />


<h4>Add new book</h4>
<form method="post">
    <div class="w-25">
        <label asp-for="Book.Title"></label>
        <input asp-for="Book.Title" class="form-control" required />


            <label asp-for="Book.Author"></label>
        <select id="currentAuthors" name="currentAuthors" class="form-control multiple size="5">
            <option value="" disabled selected>Choose Author</option>
            @{
                //var sort = Model.Books.OrderBy(b => b.Author.Lastname);
            }
            @foreach (var auth in Model.Books)
            {
                <option value="@auth.Author.Lastname, @auth.Author.Firstname">@auth.Author.Lastname, @auth.Author.Firstname</option>
            }
        </select>

        @{int deletedNot = 0;}
        <label asp-for="Book.Isbn"></label>
        <textarea asp-for="Book.Isbn" class="form-control" required></textarea>
        <label asp-for="Book.Description"></label>
        <textarea asp-for="Book.Description" class="form-control" rows="5" required></textarea>

        <input asp-for="Book.Created" type="hidden" value="@DateTime.Now" />
        <input asp-for="Book.Imagepath" type="hidden" value="minmapp/bild.jpg" />
        @*<input asp-for="Book.IsDeleted" type="hidden" value="0" />*@
        @*<input asp-for="Book.IsDeleted" type="hidden" value="@deletedNot" />*@


    </div>
    <br />
    <button type="submit" class="btn btn-primary">Add author</button>
</form>